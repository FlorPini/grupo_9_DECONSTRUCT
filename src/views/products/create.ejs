<!DOCTYPE html>
<html lang="en">
    <%- include('../partials/head.ejs') %>
    <link rel="stylesheet" href="/css/styles_products_create.css">
    <body>
        <%- include('../partials/header.ejs') %>
        <main>
            <div class="create-title">    
                <label for="chk" aria-hidden="true">Crear Producto</label>
            </div>
            
            <div class="create-group" >
                <form action="/products/create" method="POST" enctype="multipart/form-data">
                    <div class="create">
                        <label for="productName">Nombre del producto</label>
                        <input type="text" 
                        name="productName" 
                        id="productName" 
                        placeholder="Nombre del producto" 
                        value="<%= locals.old && old.productName %>">
                        <% if (locals.errors && errors.productName) { %>
                            <div class="errors">
                            <%= errors.productName.msg %>
                            </div>
                        <% } %>
                       
                    </div>
                     
                    <div class="create"> 
                        <label for="category">Categoria</label>
                        <select name="category">
                           <option value="">-</option>
                            <% for (let j = 0 ; j < categorys.length; j++) { %>
                                <option
                                value="<%= categorys[j].id %>"
                                <%= locals.old && (categorys[j].id == old.category) ? "selected" : null %>>
                                   <%= categorys[j].category %>  
                                </option>
                            <% } %>
                        </select>
                        <% if (locals.errors && errors.category) { %>
                            <div class="errors">
                            <%= errors.category.msg %>
                            </div>
                        <% } %>
                    </div> 
                 
                    <div class="create"> 
                        <label for="type">Rubro</label>
                        <select name="type">
                            <option value="">-</option>
                            <% for (let i = 0 ; i < types.length; i++) { %>
                                <option
                                value="<%= types[i].id %>"
                                <%= locals.old && (types[i].id == old.type) ? "selected" : null %>>>
                                   <%= types[i].type %>  
                                </option>
                            <% } %>
                        </select>
                        <% if (locals.errors && errors.type) { %>
                            <div class="errors">
                            <%= errors.type.msg %>
                            </div>
                        <% } %>
                    </div>
                   

                    <div class="create"> 
                        <label>Descripción</label>
                        <textarea name="productDescription"  
                        placeholder="Descripción" 
                        class="text"
                        value="<%= locals.old && old.productDescription %>">
                        </textarea>
                    </div> 
                    <% if (locals.errors && errors.productDescription) { %>
                        <div class="errors">
                        <%= errors.productDescription.msg %>
                        </div>
                    <% } %>

                    <div class="create"> 
                        <label>Duración</label>
                        <input type="number" 
                        name="duration" 
                        placeholder="00:00 h" 
                        value="<%= locals.old && old.duration %>" >
                        <% if (locals.errors && errors.duration) { %>
                            <div class="errors">
                            <%= errors.duration.msg %>
                            </div>
                        <% } %> 
                    </div> 
                    <div class="createPrice"> 
                        <div class="createPriceInput">
                        <label>Precio</label>
                        <p>$</p>
                        <input type="number" name="productPrice" placeholder="0.000,00" value="<%= locals.old && old.productPrice %>" >
                        <% if (locals.errors && errors.productPrice) { %>
                            <div class="priceErrors">
                            <%= errors.productPrice.msg %>
                            </div>
                        <% } %>
                        </div>
                        
                    </div>    
                    
                    <div class="createImage">
                        <label for="productImage">Cargar imagenes</label>
                        <span class="btn-file">
                             Subir archivo 
                             <input type="file" name="productImage">
                        </span>
                        <% if (locals.errors && errors.productImage) { %>
                            <div class="errors">
                               <%= errors.productImage.msg %>
                            </div>
                        <% } %>
                    </div> 
                    <div class="button">
                        <input type="submit" value="cargar">
                    </div>
                    
                </form>   
            </div>
        </main>
  
        <%- include('../partials/footer.ejs') %>
    
</body>
